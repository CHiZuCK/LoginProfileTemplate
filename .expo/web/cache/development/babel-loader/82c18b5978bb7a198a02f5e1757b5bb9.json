{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\stefa\\\\Documents\\\\Code\\\\React Native\\\\LoginProfileTemplate\\\\src\\\\screens\\\\Dashboard.js\";\nimport React, { memo, useState, useEffect } from 'react';\nimport Background from \"../components/Background\";\nimport Header from \"../components/Header\";\nimport Paragraph from \"../components/Paragraph\";\nimport Button from \"../components/Button\";\nimport AppMenu from \"../components/Menu.js\";\nimport * as ImagePicker from 'expo-image-picker';\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport global from \"../global.js\";\nimport ProfileDisplay from \"../components/ProfileDisplay.js\";\nimport { theme } from \"../core/theme\";\n\nvar Dashboard = function Dashboard(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  useEffect(function () {\n    console.log('mounted');\n    return function () {\n      console.log('unmounted');\n    };\n  }, []);\n\n  var _formatPhone = function _formatPhone(number) {\n    if (number == undefined) {\n      return number;\n    } else {\n      return '(' + number.charAt(0) + number.charAt(1) + number.charAt(2) + ') ' + number.charAt(3) + number.charAt(4) + number.charAt(5) + '-' + number.charAt(6) + number.charAt(7) + number.charAt(8) + number.charAt(9);\n    }\n  };\n\n  var _useState = useState(null),\n      _useState2 = _slicedToArray(_useState, 2),\n      photo = _useState2[0],\n      setPhoto = _useState2[1];\n\n  var _useState3 = useState(_formatPhone(global.Profile.homePhone)),\n      _useState4 = _slicedToArray(_useState3, 2),\n      profileHomePhone = _useState4[0],\n      setProfileHomePhone = _useState4[1];\n\n  var _useState5 = useState(_formatPhone(global.Profile.workPhone)),\n      _useState6 = _slicedToArray(_useState5, 2),\n      profileWorkPhone = _useState6[0],\n      setProfileWorkPhone = _useState6[1];\n\n  var _useState7 = useState(_formatPhone(global.Profile.cellPhone)),\n      _useState8 = _slicedToArray(_useState7, 2),\n      profileCellPhone = _useState8[0],\n      setProfileCellPhone = _useState8[1];\n\n  var _useState9 = useState(global.Profile.address),\n      _useState10 = _slicedToArray(_useState9, 2),\n      profileAddress = _useState10[0],\n      setProfileAddress = _useState10[1];\n\n  var _useState11 = useState(global.Profile.bio),\n      _useState12 = _slicedToArray(_useState11, 2),\n      profileBio = _useState12[0],\n      setProfileBio = _useState12[1];\n\n  var _useState13 = useState(''),\n      _useState14 = _slicedToArray(_useState13, 2),\n      profileHobbies = _useState14[0],\n      setProfileHobbies = _useState14[1];\n\n  var _handleChoosePhoto = function _handleChoosePhoto() {\n    var result;\n    return _regeneratorRuntime.async(function _handleChoosePhoto$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync({\n              mediaTypes: ImagePicker.MediaTypeOptions.All,\n              allowsEditing: true,\n              aspect: [4, 3],\n              quality: 1\n            }));\n\n          case 3:\n            result = _context.sent;\n\n            if (!result.cancelled) {\n              setPhoto(result);\n            }\n\n            console.log(result);\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            console.log(_context.t0);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  };\n\n  var _getPhoto = function _getPhoto() {\n    fetch('http://159.89.153.162:5000/api/v1/profile/0001/photo', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + global.Token\n      }\n    });\n  };\n\n  var _uploadPhoto = function _uploadPhoto() {\n    var token = global.Token;\n    var image = {\n      uri: photo.uri,\n      type: 'image/jpeg',\n      name: 'photo.jpg'\n    };\n    var data = new FormData();\n    data.append('file', image);\n    fetch('http://159.89.153.162:5000/api/v1/profile/' + global.Profile._id + '/photo', {\n      method: 'PUT',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      },\n      body: data\n    });\n  };\n\n  var _refreshPage = function _refreshPage() {\n    setProfileHomePhone(_formatPhone(global.Profile.homePhone));\n    setProfileWorkPhone(_formatPhone(global.Profile.workPhone));\n    setProfileCellPhone(_formatPhone(global.Profile.cellPhone));\n    setProfileAddress(global.Profile.address);\n    setProfileBio(global.Profile.bio);\n    setProfileHobbies(global.Profile.hobbies.join(', '));\n  };\n\n  console.log(global.Profile.hobbies);\n  console.log(profileHobbies);\n\n  if (profileHobbies != global.Profile.hobbies.join(', ')) {\n    setProfileHobbies(global.Profile.hobbies.join(', '));\n  }\n\n  return React.createElement(Background, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      width: '100%',\n      maxWidth: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }\n  }, React.createElement(View, {\n    style: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      alignItems: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 9\n    }\n  }, React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'row',\n      justifyContent: 'flex-start'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }), React.createElement(View, {\n    style: {\n      flex: 1,\n      flexDirection: 'row',\n      justifyContent: 'flex-end'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 11\n    }\n  }, React.createElement(TouchableOpacity, {\n    onPress: _refreshPage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }\n  }, React.createElement(Image, {\n    style: {\n      width: 24,\n      height: 24\n    },\n    source: require(\"../assets/refresh_icon.png\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 15\n    }\n  })))), photo && React.createElement(Image, {\n    source: {\n      uri: photo.uri\n    },\n    style: {\n      width: 300,\n      height: 300\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }), React.createElement(Header, {\n    style: {\n      justifyContent: 'Center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 9\n    }\n  }, global.User.firstName, \" \", global.User.lastName), React.createElement(View, {\n    style: {\n      width: '100%',\n      maxWidth: 500,\n      justifyContent: 'center'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 9\n    }\n  }, React.createElement(ProfileDisplay, {\n    title: \"Home Phone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, profileHomePhone), React.createElement(ProfileDisplay, {\n    title: \"Work Phone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, profileWorkPhone), React.createElement(ProfileDisplay, {\n    title: \"Cell Phone\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, profileCellPhone), React.createElement(ProfileDisplay, {\n    title: \"Address\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 11\n    }\n  }, profileAddress), React.createElement(ProfileDisplay, {\n    title: \"Bio\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, profileBio), React.createElement(ProfileDisplay, {\n    title: \"Hobbies\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 11\n    }\n  }, profileHobbies))));\n};\n\nexport default memo(Dashboard);","map":{"version":3,"sources":["C:/Users/stefa/Documents/Code/React Native/LoginProfileTemplate/src/screens/Dashboard.js"],"names":["React","memo","useState","useEffect","Background","Header","Paragraph","Button","AppMenu","ImagePicker","global","ProfileDisplay","theme","Dashboard","navigation","route","console","log","_formatPhone","number","undefined","charAt","photo","setPhoto","Profile","homePhone","profileHomePhone","setProfileHomePhone","workPhone","profileWorkPhone","setProfileWorkPhone","cellPhone","profileCellPhone","setProfileCellPhone","address","profileAddress","setProfileAddress","bio","profileBio","setProfileBio","profileHobbies","setProfileHobbies","_handleChoosePhoto","launchImageLibraryAsync","mediaTypes","MediaTypeOptions","All","allowsEditing","aspect","quality","result","cancelled","_getPhoto","fetch","method","headers","Token","_uploadPhoto","token","image","uri","type","name","data","FormData","append","_id","body","_refreshPage","hobbies","join","width","maxWidth","flexDirection","justifyContent","alignItems","flex","height","require","User","firstName","lastName"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,IAAhB,EAAsBC,QAAtB,EAAgCC,SAAhC,QAAiD,OAAjD;AACA,OAAOC,UAAP;AACA,OAAOC,MAAP;AACA,OAAOC,SAAP;AACA,OAAOC,MAAP;AACA,OAAOC,OAAP;AACA,OAAO,KAAKC,WAAZ,MAA6B,mBAA7B;;;;;AAEA,OAAOC,MAAP;AACA,OAAOC,cAAP;AAEA,SAASC,KAAT;;AAEA,IAAMC,SAAS,GAAG,SAAZA,SAAY,OAA2B;AAAA,MAAxBC,UAAwB,QAAxBA,UAAwB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AAE3CZ,EAAAA,SAAS,CAAC,YAAM;AAEda,IAAAA,OAAO,CAACC,GAAR,CAAY,SAAZ;AACA,WAAO,YAAM;AACXD,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACD,KAFD;AAGD,GANQ,EAMN,EANM,CAAT;;AAQA,MAAMC,YAAY,GAAG,SAAfA,YAAe,CAAAC,MAAM,EAAI;AAE7B,QAAIA,MAAM,IAAIC,SAAd,EAAyB;AACvB,aAAOD,MAAP;AACD,KAFD,MAEO;AACL,aACE,MACAA,MAAM,CAACE,MAAP,CAAc,CAAd,CADA,GAEAF,MAAM,CAACE,MAAP,CAAc,CAAd,CAFA,GAGAF,MAAM,CAACE,MAAP,CAAc,CAAd,CAHA,GAIA,IAJA,GAKAF,MAAM,CAACE,MAAP,CAAc,CAAd,CALA,GAMAF,MAAM,CAACE,MAAP,CAAc,CAAd,CANA,GAOAF,MAAM,CAACE,MAAP,CAAc,CAAd,CAPA,GAQA,GARA,GASAF,MAAM,CAACE,MAAP,CAAc,CAAd,CATA,GAUAF,MAAM,CAACE,MAAP,CAAc,CAAd,CAVA,GAWAF,MAAM,CAACE,MAAP,CAAc,CAAd,CAXA,GAYAF,MAAM,CAACE,MAAP,CAAc,CAAd,CAbF;AAeD;AACF,GArBD;;AAV2C,kBAiCjBnB,QAAQ,CAAC,IAAD,CAjCS;AAAA;AAAA,MAiCpCoB,KAjCoC;AAAA,MAiC7BC,QAjC6B;;AAAA,mBAkCKrB,QAAQ,CAACgB,YAAY,CAACR,MAAM,CAACc,OAAP,CAAeC,SAAhB,CAAb,CAlCb;AAAA;AAAA,MAkCpCC,gBAlCoC;AAAA,MAkClBC,mBAlCkB;;AAAA,mBAmCKzB,QAAQ,CAACgB,YAAY,CAACR,MAAM,CAACc,OAAP,CAAeI,SAAhB,CAAb,CAnCb;AAAA;AAAA,MAmCpCC,gBAnCoC;AAAA,MAmClBC,mBAnCkB;;AAAA,mBAoCK5B,QAAQ,CAACgB,YAAY,CAACR,MAAM,CAACc,OAAP,CAAeO,SAAhB,CAAb,CApCb;AAAA;AAAA,MAoCpCC,gBApCoC;AAAA,MAoClBC,mBApCkB;;AAAA,mBAqCC/B,QAAQ,CAACQ,MAAM,CAACc,OAAP,CAAeU,OAAhB,CArCT;AAAA;AAAA,MAqCpCC,cArCoC;AAAA,MAqCpBC,iBArCoB;;AAAA,oBAsCPlC,QAAQ,CAACQ,MAAM,CAACc,OAAP,CAAea,GAAhB,CAtCD;AAAA;AAAA,MAsCpCC,UAtCoC;AAAA,MAsCxBC,aAtCwB;;AAAA,oBAwCCrC,QAAQ,CAAC,EAAD,CAxCT;AAAA;AAAA,MAwCpCsC,cAxCoC;AAAA,MAwCpBC,iBAxCoB;;AA0C3C,MAAMC,kBAAkB,GAAG,SAArBA,kBAAqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6CAEJjC,WAAW,CAACkC,uBAAZ,CAAoC;AACrDC,cAAAA,UAAU,EAAEnC,WAAW,CAACoC,gBAAZ,CAA6BC,GADY;AAErDC,cAAAA,aAAa,EAAE,IAFsC;AAGrDC,cAAAA,MAAM,EAAE,CAAC,CAAD,EAAI,CAAJ,CAH6C;AAIrDC,cAAAA,OAAO,EAAE;AAJ4C,aAApC,CAFI;;AAAA;AAEnBC,YAAAA,MAFmB;;AAQvB,gBAAI,CAACA,MAAM,CAACC,SAAZ,EAAuB;AACrB5B,cAAAA,QAAQ,CAAC2B,MAAD,CAAR;AACD;;AACDlC,YAAAA,OAAO,CAACC,GAAR,CAAYiC,MAAZ;AAXuB;AAAA;;AAAA;AAAA;AAAA;AAavBlC,YAAAA,OAAO,CAACC,GAAR;;AAbuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAA3B;;AAiBA,MAAMmC,SAAS,GAAG,SAAZA,SAAY,GAAM;AACtBC,IAAAA,KAAK,CAAC,sDAAD,EAAyD;AAC5DC,MAAAA,MAAM,EAAE,KADoD;AAE5DC,MAAAA,OAAO,EAAE;AACP,kBAAU,kBADH;AAEP,wBAAgB,kBAFT;AAGP,yBAAiB,YAAY7C,MAAM,CAAC8C;AAH7B;AAFmD,KAAzD,CAAL;AAQD,GATD;;AAWA,MAAMC,YAAY,GAAG,SAAfA,YAAe,GAAM;AAEzB,QAAIC,KAAK,GAAGhD,MAAM,CAAC8C,KAAnB;AAEA,QAAIG,KAAK,GAAG;AACVC,MAAAA,GAAG,EAAEtC,KAAK,CAACsC,GADD;AAEVC,MAAAA,IAAI,EAAE,YAFI;AAGVC,MAAAA,IAAI,EAAE;AAHI,KAAZ;AAMA,QAAIC,IAAI,GAAG,IAAIC,QAAJ,EAAX;AACAD,IAAAA,IAAI,CAACE,MAAL,CAAY,MAAZ,EAAoBN,KAApB;AACAN,IAAAA,KAAK,CAAC,+CAA8C3C,MAAM,CAACc,OAAP,CAAe0C,GAA7D,GAAkE,QAAnE,EAA6E;AAChFZ,MAAAA,MAAM,EAAE,KADwE;AAEhFC,MAAAA,OAAO,EAAE;AACP,yBAAiB,YAAYG;AADtB,OAFuE;AAKhFS,MAAAA,IAAI,EAAEJ;AAL0E,KAA7E,CAAL;AAOD,GAnBD;;AAqBA,MAAMK,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzBzC,IAAAA,mBAAmB,CAACT,YAAY,CAACR,MAAM,CAACc,OAAP,CAAeC,SAAhB,CAAb,CAAnB;AACAK,IAAAA,mBAAmB,CAACZ,YAAY,CAACR,MAAM,CAACc,OAAP,CAAeI,SAAhB,CAAb,CAAnB;AACAK,IAAAA,mBAAmB,CAACf,YAAY,CAACR,MAAM,CAACc,OAAP,CAAeO,SAAhB,CAAb,CAAnB;AACAK,IAAAA,iBAAiB,CAAC1B,MAAM,CAACc,OAAP,CAAeU,OAAhB,CAAjB;AACAK,IAAAA,aAAa,CAAC7B,MAAM,CAACc,OAAP,CAAea,GAAhB,CAAb;AACAI,IAAAA,iBAAiB,CAAC/B,MAAM,CAACc,OAAP,CAAe6C,OAAf,CAAuBC,IAAvB,CAA4B,IAA5B,CAAD,CAAjB;AACD,GAPD;;AASAtD,EAAAA,OAAO,CAACC,GAAR,CAAYP,MAAM,CAACc,OAAP,CAAe6C,OAA3B;AACArD,EAAAA,OAAO,CAACC,GAAR,CAAYuB,cAAZ;;AAEA,MAAIA,cAAc,IAAI9B,MAAM,CAACc,OAAP,CAAe6C,OAAf,CAAuBC,IAAvB,CAA4B,IAA5B,CAAtB,EAAyD;AACvD7B,IAAAA,iBAAiB,CAAC/B,MAAM,CAACc,OAAP,CAAe6C,OAAf,CAAuBC,IAAvB,CAA4B,IAA5B,CAAD,CAAjB;AACD;;AAED,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,UAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,KAAK,EAAE,MADF;AAELC,MAAAA,QAAQ,EAAE;AAFL,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAME,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,aAAa,EAAE,KADV;AAELC,MAAAA,cAAc,EAAE,eAFX;AAGLC,MAAAA,UAAU,EAAE;AAHP,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLC,MAAAA,IAAI,EAAE,CADD;AAELH,MAAAA,aAAa,EAAE,KAFV;AAGLC,MAAAA,cAAc,EAAE;AAHX,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,EAcE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLE,MAAAA,IAAI,EAAE,CADD;AAELH,MAAAA,aAAa,EAAE,KAFV;AAGLC,MAAAA,cAAc,EAAE;AAHX,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,gBAAD;AAAkB,IAAA,OAAO,EAAEN,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,oBAAC,KAAD;AACE,IAAA,KAAK,EAAE;AAAEG,MAAAA,KAAK,EAAE,EAAT;AAAaM,MAAAA,MAAM,EAAE;AAArB,KADT;AAEE,IAAA,MAAM,EAAEC,OAAO,8BAFjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAPF,CAdF,CANF,EAmCGxD,KAAK,IACJ,oBAAC,KAAD;AACE,IAAA,MAAM,EAAE;AAAEsC,MAAAA,GAAG,EAAEtC,KAAK,CAACsC;AAAb,KADV;AAEE,IAAA,KAAK,EAAE;AAAEW,MAAAA,KAAK,EAAE,GAAT;AAAcM,MAAAA,MAAM,EAAE;AAAtB,KAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IApCJ,EAyCE,oBAAC,MAAD;AAAQ,IAAA,KAAK,EAAE;AAAEH,MAAAA,cAAc,EAAE;AAAlB,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGhE,MAAM,CAACqE,IAAP,CAAYC,SADf,OAC2BtE,MAAM,CAACqE,IAAP,CAAYE,QADvC,CAzCF,EA4CE,oBAAC,IAAD;AACE,IAAA,KAAK,EAAE;AACLV,MAAAA,KAAK,EAAE,MADF;AAELC,MAAAA,QAAQ,EAAE,GAFL;AAGLE,MAAAA,cAAc,EAAE;AAHX,KADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAOE,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAC,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoChD,gBAApC,CAPF,EAQE,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAC,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCG,gBAApC,CARF,EASE,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAC,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAoCG,gBAApC,CATF,EAUE,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCG,cAAjC,CAVF,EAWE,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAC,KAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAA6BG,UAA7B,CAXF,EAYE,oBAAC,cAAD;AAAgB,IAAA,KAAK,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAiCE,cAAjC,CAZF,CA5CF,CADF,CADF;AAwED,CAnLD;;AAqLA,eAAevC,IAAI,CAACY,SAAD,CAAnB","sourcesContent":["import React, { memo, useState, useEffect } from 'react';\nimport Background from '../components/Background';\nimport Header from '../components/Header';\nimport Paragraph from '../components/Paragraph';\nimport Button from '../components/Button';\nimport AppMenu from '../components/Menu.js';\nimport * as ImagePicker from 'expo-image-picker';\nimport { Image, ScrollView, View, TouchableOpacity } from 'react-native';\nimport global from '../global.js';\nimport ProfileDisplay from '../components/ProfileDisplay.js';\n\nimport { theme } from '../core/theme';\n\nconst Dashboard = ({ navigation, route }) => {\n\n  useEffect(() => {\n    // Anything in here is fired on component mount.\n    console.log('mounted');\n    return () => {\n      console.log('unmounted');\n    }\n  }, []);\n\n  const _formatPhone = number => {\n      \n    if (number == undefined) {\n      return number;\n    } else {\n      return (\n        '(' +\n        number.charAt(0) +\n        number.charAt(1) +\n        number.charAt(2) +\n        ') ' +\n        number.charAt(3) +\n        number.charAt(4) +\n        number.charAt(5) +\n        '-' +\n        number.charAt(6) +\n        number.charAt(7) +\n        number.charAt(8) +\n        number.charAt(9)\n      );\n    }\n  };\n\n  const [photo, setPhoto] = useState(null);\n  const [profileHomePhone, setProfileHomePhone] = useState(_formatPhone(global.Profile.homePhone));\n  const [profileWorkPhone, setProfileWorkPhone] = useState(_formatPhone(global.Profile.workPhone));\n  const [profileCellPhone, setProfileCellPhone] = useState(_formatPhone(global.Profile.cellPhone));\n  const [profileAddress, setProfileAddress] = useState(global.Profile.address);\n  const [profileBio, setProfileBio] = useState(global.Profile.bio);\n  /* const [profileHobbies, setProfileHobbies] = useState(global.Profile.hobbies.join(', ')); */\n  const [profileHobbies, setProfileHobbies] = useState('');\n\n  const _handleChoosePhoto = async () => {\n    try {\n      let result = await ImagePicker.launchImageLibraryAsync({\n        mediaTypes: ImagePicker.MediaTypeOptions.All,\n        allowsEditing: true,\n        aspect: [4, 3],\n        quality: 1,\n      });\n      if (!result.cancelled) {\n        setPhoto(result);\n      }\n      console.log(result);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  const _getPhoto = () => {\n    fetch('http://159.89.153.162:5000/api/v1/profile/0001/photo', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + global.Token\n      }\n    });\n  }\n\n  const _uploadPhoto = () => {\n\n    var token = global.Token;\n\n    var image = {\n      uri: photo.uri,\n      type: 'image/jpeg',\n      name: 'photo.jpg'\n    }\n\n    var data = new FormData();\n    data.append('file', image);\n    fetch('http://159.89.153.162:5000/api/v1/profile/'+ global.Profile._id +'/photo', {\n      method: 'PUT',\n      headers: {\n        'Authorization': 'Bearer ' + token\n      },\n      body: data\n    });\n  }\n\n  const _refreshPage = () => {\n    setProfileHomePhone(_formatPhone(global.Profile.homePhone));\n    setProfileWorkPhone(_formatPhone(global.Profile.workPhone));\n    setProfileCellPhone(_formatPhone(global.Profile.cellPhone));\n    setProfileAddress(global.Profile.address);\n    setProfileBio(global.Profile.bio);\n    setProfileHobbies(global.Profile.hobbies.join(', '));\n  }\n\n  console.log(global.Profile.hobbies);\n  console.log(profileHobbies);\n\n  if (profileHobbies != global.Profile.hobbies.join(', ')) {\n    setProfileHobbies(global.Profile.hobbies.join(', '));\n  }\n\n  return (\n    <Background>\n      <ScrollView\n        style={{\n          width: '100%',\n          maxWidth: 500,\n        }}\n      >\n        <View\n          style={{\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n          }}\n        >\n          <View\n            style={{\n              flex: 1,\n              flexDirection: 'row',\n              justifyContent: 'flex-start',\n            }}\n          ></View>\n          <View\n            style={{\n              flex: 1,\n              flexDirection: 'row',\n              justifyContent: 'flex-end',\n            }}\n          >\n            <TouchableOpacity onPress={_refreshPage}>\n              <Image\n                style={{ width: 24, height: 24 }}\n                source={require('../assets/refresh_icon.png')}\n              />\n            </TouchableOpacity>\n          </View>\n        </View>\n        {photo && (\n          <Image\n            source={{ uri: photo.uri }}\n            style={{ width: 300, height: 300 }}\n          />\n        )}\n        <Header style={{ justifyContent: 'Center' }}>\n          {global.User.firstName} {global.User.lastName}\n        </Header>\n        <View\n          style={{\n            width: '100%',\n            maxWidth: 500,\n            justifyContent: 'center'\n          }}\n        >\n          <ProfileDisplay title=\"Home Phone\">{profileHomePhone}</ProfileDisplay>\n          <ProfileDisplay title=\"Work Phone\">{profileWorkPhone}</ProfileDisplay>\n          <ProfileDisplay title=\"Cell Phone\">{profileCellPhone}</ProfileDisplay>\n          <ProfileDisplay title=\"Address\">{profileAddress}</ProfileDisplay>\n          <ProfileDisplay title=\"Bio\">{profileBio}</ProfileDisplay>\n          <ProfileDisplay title=\"Hobbies\">{profileHobbies}</ProfileDisplay>\n        </View>\n        {/* <Button mode=\"outlined\" onPress={_handleChoosePhoto}>\n          Choose Photo\n        </Button>\n        <Button mode=\"outlined\" onPress={_uploadPhoto}>\n          Send Photo\n        </Button>\n        <Button mode=\"outlined\" onPress={_getPhoto}>\n          Get Photo\n        </Button> */}\n      </ScrollView>\n    </Background>\n  );\n}\n\nexport default memo(Dashboard);\n"]},"metadata":{},"sourceType":"module"}