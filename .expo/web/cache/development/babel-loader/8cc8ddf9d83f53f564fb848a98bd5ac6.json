{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\stefa\\\\Documents\\\\Code\\\\React Native\\\\LoginProfileTemplate\\\\src\\\\screens\\\\CreateUpdateProfile.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { memo, useState } from 'react';\nimport Background from \"../components/Background\";\nimport Logo from \"../components/Logo\";\nimport Header from \"../components/Header\";\nimport Paragraph from \"../components/Paragraph\";\nimport Button from \"../components/Button\";\nimport TextInput from \"../components/TextInput\";\nimport TextArea from \"../components/TextArea.js\";\nimport { StackActions, DrawerActions } from '@react-navigation/native';\nimport { nameValidator, emailValidator, passwordValidator } from \"../core/utils\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport global from \"../global.js\";\n\nvar CreateUpdateProfile = function CreateUpdateProfile(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var action = route.params.action;\n  var profile = global.Profile;\n\n  var _useState = useState({\n    value: profile.homePhone,\n    error: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      homephone = _useState2[0],\n      setHomePhone = _useState2[1];\n\n  var _useState3 = useState({\n    value: profile.workPhone,\n    error: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      workphone = _useState4[0],\n      setWorkPhone = _useState4[1];\n\n  var _useState5 = useState({\n    value: profile.cellPhone,\n    error: ''\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      cellphone = _useState6[0],\n      setCellPhone = _useState6[1];\n\n  var _useState7 = useState({\n    value: profile.address,\n    error: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      address = _useState8[0],\n      setAddress = _useState8[1];\n\n  var _useState9 = useState({\n    value: profile.bio,\n    error: ''\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      bio = _useState10[0],\n      setBio = _useState10[1];\n\n  var _useState11 = useState({\n    value: profile.hobbies.join(', '),\n    error: ''\n  }),\n      _useState12 = _slicedToArray(_useState11, 2),\n      hobbies = _useState12[0],\n      setHobbies = _useState12[1];\n\n  var _createProfile = function _createProfile() {\n    var homePhoneError = nameValidator(homephone.value);\n    var workPhoneError = nameValidator(workphone.value);\n    var cellPhoneError = nameValidator(cellphone.value);\n    var addressError = nameValidator(address.value);\n    var bioError = nameValidator(bio.value);\n    var hobbiesArray = hobbies.value.split(', ');\n\n    if (homePhoneError || workPhoneError || cellPhoneError || addressError || bioError) {\n      setHomePhone(_objectSpread(_objectSpread({}, homephone), {}, {\n        error: homePhoneError\n      }));\n      setWorkPhone(_objectSpread(_objectSpread({}, workphone), {}, {\n        error: workPhoneError\n      }));\n      setCellPhone(_objectSpread(_objectSpread({}, cellphone), {}, {\n        error: cellPhoneError\n      }));\n      setAddress(_objectSpread(_objectSpread({}, address), {}, {\n        error: addressError\n      }));\n      setBio(_objectSpread(_objectSpread({}, bio), {}, {\n        error: bioError\n      }));\n      return;\n    } else {\n      console.log(global.Token);\n      var data = {\n        cellPhone: cellphone.value,\n        homePhone: homephone.value,\n        workPhone: workphone.value,\n        address: address.value,\n        bio: bio.value,\n        hobbies: hobbiesArray\n      };\n      fetch('http://159.89.153.162:5000/api/v1/profile', {\n        method: 'POST',\n        headers: {\n          Accept: 'application/json',\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + global.Token\n        },\n        body: JSON.stringify(data)\n      });\n    }\n\n    _updateGlobalProfile();\n  };\n\n  var _updateGlobalProfile = function _updateGlobalProfile() {\n    var hobbiesArray = hobbies.value.split(', ');\n    console.log(hobbiesArray);\n    global.Profile.cellPhone = cellphone.value;\n    global.Profile.homePhone = homephone.value;\n    global.Profile.workPhone = workphone.value;\n    global.Profile.address = address.value;\n    global.Profile.bio = bio.value;\n    global.Profile.hobbies = hobbiesArray;\n    console.log(global.Profile);\n    navigation.dispatch(StackActions.replace('Dashboard'));\n  };\n\n  return React.createElement(Background, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 5\n    }\n  }, React.createElement(ScrollView, {\n    style: {\n      width: '100%',\n      maxWidth: 500\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }\n  }, React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, action, \" Profile\"), React.createElement(TextInput, {\n    label: \"Home Phone\",\n    returnKeyType: \"next\",\n    value: homephone.value,\n    onChangeText: function onChangeText(text) {\n      return setHomePhone({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!homephone.error,\n    errorText: homephone.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    label: \"Work Phone\",\n    returnKeyType: \"next\",\n    value: workphone.value,\n    onChangeText: function onChangeText(text) {\n      return setWorkPhone({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!workphone.error,\n    errorText: workphone.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    label: \"Cell Phone\",\n    returnKeyType: \"next\",\n    value: cellphone.value,\n    onChangeText: function onChangeText(text) {\n      return setCellPhone({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!cellphone.error,\n    errorText: cellphone.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }), React.createElement(TextInput, {\n    label: \"Address\",\n    returnKeyType: \"next\",\n    value: address.value,\n    onChangeText: function onChangeText(text) {\n      return setAddress({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!address.error,\n    errorText: address.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 9\n    }\n  }), React.createElement(TextArea, {\n    label: \"Bio\",\n    returnKeyType: \"next\",\n    value: bio.value,\n    onChangeText: function onChangeText(text) {\n      return setBio({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!bio.error,\n    errorText: bio.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 9\n    }\n  }), React.createElement(TextArea, {\n    label: \"Hobbies\",\n    returnKeyType: \"next\",\n    value: hobbies.value,\n    onChangeText: function onChangeText(text) {\n      return setHobbies({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!hobbies.error,\n    errorText: hobbies.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 9\n    }\n  }), React.createElement(Button, {\n    mode: \"outlined\",\n    onPress: _createProfile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, action, \" Profile\")));\n};\n\nexport default memo(CreateUpdateProfile);","map":{"version":3,"sources":["C:/Users/stefa/Documents/Code/React Native/LoginProfileTemplate/src/screens/CreateUpdateProfile.js"],"names":["React","memo","useState","Background","Logo","Header","Paragraph","Button","TextInput","TextArea","StackActions","DrawerActions","nameValidator","emailValidator","passwordValidator","global","CreateUpdateProfile","navigation","route","action","params","profile","Profile","value","homePhone","error","homephone","setHomePhone","workPhone","workphone","setWorkPhone","cellPhone","cellphone","setCellPhone","address","setAddress","bio","setBio","hobbies","join","setHobbies","_createProfile","homePhoneError","workPhoneError","cellPhoneError","addressError","bioError","hobbiesArray","split","console","log","Token","data","fetch","method","headers","Accept","Authorization","body","JSON","stringify","_updateGlobalProfile","dispatch","replace","width","maxWidth","text"],"mappings":"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","sourcesContent":["import React, { memo, useState } from 'react';\r\nimport Background from '../components/Background';\r\nimport Logo from '../components/Logo';\r\nimport Header from '../components/Header';\r\nimport Paragraph from '../components/Paragraph';\r\nimport Button from '../components/Button';\r\nimport TextInput from '../components/TextInput';\r\nimport TextArea from '../components/TextArea.js';\r\nimport { StackActions, DrawerActions } from '@react-navigation/native';\r\nimport {\r\n  nameValidator,\r\n  emailValidator,\r\n  passwordValidator,\r\n} from '../core/utils';\r\nimport { Image, Text, ScrollView, View } from 'react-native';\r\nimport global from '../global.js';\r\n\r\nconst CreateUpdateProfile = ({ navigation, route }) => {\r\n  const { action } = route.params;\r\n\r\n  const profile = global.Profile;\r\n\r\n  const [homephone, setHomePhone] = useState({\r\n    value: profile.homePhone,\r\n    error: '',\r\n  });\r\n  const [workphone, setWorkPhone] = useState({\r\n    value: profile.workPhone,\r\n    error: '',\r\n  });\r\n  const [cellphone, setCellPhone] = useState({\r\n    value: profile.cellPhone,\r\n    error: '',\r\n  });\r\n  const [address, setAddress] = useState({ value: profile.address, error: '' });\r\n  const [bio, setBio] = useState({ value: profile.bio, error: '' });\r\n  const [hobbies, setHobbies] = useState({\r\n    value: profile.hobbies.join(', '),\r\n    error: '',\r\n  });\r\n  /* const [hobbies, setHobbies] = useState({\r\n    value: '',\r\n    error: '',\r\n  }); */\r\n\r\n  const _createProfile = () => {\r\n    const homePhoneError = nameValidator(homephone.value); //Change to validate phone\r\n    const workPhoneError = nameValidator(workphone.value); //Change to validate phone\r\n    const cellPhoneError = nameValidator(cellphone.value); //Change to validate phone\r\n    const addressError = nameValidator(address.value); //Change to validate address\r\n    const bioError = nameValidator(bio.value); //Change to validate bio\r\n\r\n    var hobbiesArray = hobbies.value.split(', ');\r\n\r\n    if (\r\n      homePhoneError ||\r\n      workPhoneError ||\r\n      cellPhoneError ||\r\n      addressError ||\r\n      bioError\r\n    ) {\r\n      setHomePhone({ ...homephone, error: homePhoneError });\r\n      setWorkPhone({ ...workphone, error: workPhoneError });\r\n      setCellPhone({ ...cellphone, error: cellPhoneError });\r\n      setAddress({ ...address, error: addressError });\r\n      setBio({ ...bio, error: bioError });\r\n      return;\r\n    } else {\r\n      console.log(global.Token);\r\n      var data = {\r\n        cellPhone: cellphone.value,\r\n        homePhone: homephone.value,\r\n        workPhone: workphone.value,\r\n        address: address.value,\r\n        bio: bio.value,\r\n        hobbies: hobbiesArray,\r\n      };\r\n      fetch('http://159.89.153.162:5000/api/v1/profile', {\r\n        method: 'POST',\r\n        headers: {\r\n          Accept: 'application/json',\r\n          'Content-Type': 'application/json',\r\n          Authorization: 'Bearer ' + global.Token,\r\n        },\r\n        body: JSON.stringify(data),\r\n      });\r\n    }\r\n\r\n    _updateGlobalProfile();\r\n  };\r\n\r\n  const _updateGlobalProfile = () => {\r\n    var hobbiesArray = hobbies.value.split(', ');\r\n    console.log(hobbiesArray);\r\n\r\n    global.Profile.cellPhone = cellphone.value;\r\n    global.Profile.homePhone = homephone.value;\r\n    global.Profile.workPhone = workphone.value;\r\n    global.Profile.address = address.value;\r\n    global.Profile.bio = bio.value;\r\n    global.Profile.hobbies = hobbiesArray;\r\n\r\n    console.log(global.Profile);\r\n\r\n    /* navigation.navigate('Dashboard'); */\r\n    navigation.dispatch(StackActions.replace('Dashboard'));\r\n  };\r\n\r\n  return (\r\n    <Background>\r\n      <ScrollView\r\n        style={{\r\n          width: '100%',\r\n          maxWidth: 500,\r\n        }}\r\n      >\r\n        <Header>{action} Profile</Header>\r\n        <TextInput\r\n          label=\"Home Phone\"\r\n          returnKeyType=\"next\"\r\n          value={homephone.value}\r\n          onChangeText={text => setHomePhone({ value: text, error: '' })}\r\n          error={!!homephone.error}\r\n          errorText={homephone.error}\r\n        />\r\n\r\n        <TextInput\r\n          label=\"Work Phone\"\r\n          returnKeyType=\"next\"\r\n          value={workphone.value}\r\n          onChangeText={text => setWorkPhone({ value: text, error: '' })}\r\n          error={!!workphone.error}\r\n          errorText={workphone.error}\r\n        />\r\n\r\n        <TextInput\r\n          label=\"Cell Phone\"\r\n          returnKeyType=\"next\"\r\n          value={cellphone.value}\r\n          onChangeText={text => setCellPhone({ value: text, error: '' })}\r\n          error={!!cellphone.error}\r\n          errorText={cellphone.error}\r\n        />\r\n\r\n        <TextInput\r\n          label=\"Address\"\r\n          returnKeyType=\"next\"\r\n          value={address.value}\r\n          onChangeText={text => setAddress({ value: text, error: '' })}\r\n          error={!!address.error}\r\n          errorText={address.error}\r\n        />\r\n\r\n        <TextArea\r\n          label=\"Bio\"\r\n          returnKeyType=\"next\"\r\n          value={bio.value}\r\n          onChangeText={text => setBio({ value: text, error: '' })}\r\n          error={!!bio.error}\r\n          errorText={bio.error}\r\n        />\r\n\r\n        <TextArea\r\n          label=\"Hobbies\"\r\n          returnKeyType=\"next\"\r\n          value={hobbies.value}\r\n          onChangeText={text => setHobbies({ value: text, error: '' })}\r\n          error={!!hobbies.error}\r\n          errorText={hobbies.error}\r\n        />\r\n\r\n        <Button mode=\"outlined\" onPress={_createProfile}>\r\n          {action} Profile\r\n        </Button>\r\n      </ScrollView>\r\n    </Background>\r\n  );\r\n};\r\n\r\nexport default memo(CreateUpdateProfile);\r\n"]},"metadata":{},"sourceType":"module"}