{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\stefa\\\\Documents\\\\Code\\\\React Native\\\\LoginProfileTemplate\\\\src\\\\screens\\\\CreateUpdateProfile.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { memo, useState } from 'react';\nimport Background from \"../components/Background\";\nimport Logo from \"../components/Logo\";\nimport Header from \"../components/Header\";\nimport Paragraph from \"../components/Paragraph\";\nimport Button from \"../components/Button\";\nimport TextInput from \"../components/TextInput\";\nimport TextArea from \"../components/TextArea.js\";\nimport { nameValidator, emailValidator, passwordValidator } from \"../core/utils\";\n\nvar CreateUpdateProfile = function CreateUpdateProfile(_ref) {\n  var navigation = _ref.navigation,\n      route = _ref.route;\n  var token = route.params.token;\n  var profile = route.params.profile;\n  console.log(profile);\n\n  if (profile !== {}) {\n    setHomePhone({\n      value: profile.homePhone,\n      error: ''\n    });\n    setCellPhone({\n      value: profile.cellPhone,\n      error: ''\n    });\n    setWorkPhone({\n      value: profile.workPhone,\n      error: ''\n    });\n    setAddress({\n      value: profile.address,\n      error: ''\n    });\n\n    if (profile.bio !== undefined) {\n      setBio({\n        value: profile.bio,\n        error: ''\n      });\n    }\n  }\n\n  var _useState = useState({\n    value: '',\n    error: ''\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      homephone = _useState2[0],\n      setHomePhone = _useState2[1];\n\n  var _useState3 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState4 = _slicedToArray(_useState3, 2),\n      workphone = _useState4[0],\n      setWorkPhone = _useState4[1];\n\n  var _useState5 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState6 = _slicedToArray(_useState5, 2),\n      cellphone = _useState6[0],\n      setCellPhone = _useState6[1];\n\n  var _useState7 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState8 = _slicedToArray(_useState7, 2),\n      address = _useState8[0],\n      setAddress = _useState8[1];\n\n  var _useState9 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState10 = _slicedToArray(_useState9, 2),\n      bio = _useState10[0],\n      setBio = _useState10[1];\n\n  var _useState11 = useState({\n    value: '',\n    error: ''\n  }),\n      _useState12 = _slicedToArray(_useState11, 2),\n      hobbies = _useState12[0],\n      setHobbies = _useState12[1];\n\n  var _logout = function _logout() {\n    fetch('http://159.89.153.162:5000/api/v1/auth/logout', {\n      method: 'GET'\n    });\n    navigation.navigate('Home');\n  };\n\n  var _createProfile = function _createProfile() {\n    var homePhoneError = nameValidator(homephone.value);\n    var workPhoneError = nameValidator(workphone.value);\n    var cellPhoneError = nameValidator(cellphone.value);\n    var addressError = nameValidator(address.value);\n    var bioError = nameValidator(bio.value);\n    var hobbiesArray = hobbies.value.split(', ');\n\n    if (homePhoneError || workPhoneError || cellPhoneError || addressError || bioError) {\n      setHomePhone(_objectSpread(_objectSpread({}, homephone), {}, {\n        error: homePhoneError\n      }));\n      setWorkPhone(_objectSpread(_objectSpread({}, workphone), {}, {\n        error: workPhoneError\n      }));\n      setCellPhone(_objectSpread(_objectSpread({}, cellphone), {}, {\n        error: cellPhoneError\n      }));\n      setAddress(_objectSpread(_objectSpread({}, address), {}, {\n        error: addressError\n      }));\n      setBio(_objectSpread(_objectSpread({}, bio), {}, {\n        error: bioError\n      }));\n      return;\n    } else {\n      var data = {\n        cellPhone: cellphone.value,\n        homePhone: homephone.value,\n        workPhone: workphone.value,\n        address: address.value,\n        bio: bio.value,\n        hobbies: hobbiesArray\n      };\n      fetch('http://159.89.153.162:5000/api/v1/profile', {\n        method: 'POST',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n          'Authorization': 'Bearer ' + token\n        },\n        body: JSON.stringify(data)\n      });\n    }\n  };\n\n  var _getProfile = function _getProfile() {\n    fetch('http://159.89.153.162:5000/api/v1/profile/me', {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': 'Bearer ' + token\n      }\n    }).then(function (response) {\n      return response.json();\n    }).then(function (json) {\n      console.log(json);\n      setHomePhone({\n        value: json.homePhone,\n        error: ''\n      });\n      setCellPhone({\n        value: json.cellPhone,\n        error: ''\n      });\n      setWorkPhone({\n        value: json.workPhone,\n        error: ''\n      });\n      setAddress({\n        value: json.address,\n        error: ''\n      });\n\n      if (json.bio !== undefined) {\n        setBio({\n          value: json.bio,\n          error: ''\n        });\n      }\n    });\n  };\n\n  return React.createElement(Background, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }, _getProfile, React.createElement(Logo, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }), React.createElement(Header, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  }, \"Update User Information\"), React.createElement(Button, {\n    mode: \"outlined\",\n    onPress: _logout,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Logout\"), React.createElement(Button, {\n    mode: \"outlined\",\n    onPress: _getProfile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  }, \"Get Profile\"), React.createElement(TextInput, {\n    label: \"Home Phone\",\n    returnKeyType: \"next\",\n    value: homephone.value,\n    onChangeText: function onChangeText(text) {\n      return setHomePhone({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!homephone.error,\n    errorText: homephone.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), React.createElement(TextInput, {\n    label: \"Work Phone\",\n    returnKeyType: \"next\",\n    value: workphone.value,\n    onChangeText: function onChangeText(text) {\n      return setWorkPhone({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!workphone.error,\n    errorText: workphone.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), React.createElement(TextInput, {\n    label: \"Cell Phone\",\n    returnKeyType: \"next\",\n    value: cellphone.value,\n    onChangeText: function onChangeText(text) {\n      return setCellPhone({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!cellphone.error,\n    errorText: cellphone.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }\n  }), React.createElement(TextInput, {\n    label: \"Address\",\n    returnKeyType: \"next\",\n    value: address.value,\n    onChangeText: function onChangeText(text) {\n      return setAddress({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!address.error,\n    errorText: address.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }), React.createElement(TextArea, {\n    label: \"Bio\",\n    returnKeyType: \"next\",\n    value: bio.value,\n    onChangeText: function onChangeText(text) {\n      return setBio({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!bio.error,\n    errorText: bio.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }\n  }), React.createElement(TextArea, {\n    label: \"Hobbies\",\n    returnKeyType: \"next\",\n    value: hobbies.value,\n    onChangeText: function onChangeText(text) {\n      return setHobbies({\n        value: text,\n        error: ''\n      });\n    },\n    error: !!hobbies.error,\n    errorText: hobbies.error,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }), React.createElement(Button, {\n    mode: \"outlined\",\n    onPress: _createProfile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 13\n    }\n  }, \"Create Profile\"));\n};\n\nexport default memo(CreateUpdateProfile);","map":{"version":3,"sources":["C:/Users/stefa/Documents/Code/React Native/LoginProfileTemplate/src/screens/CreateUpdateProfile.js"],"names":["React","memo","useState","Background","Logo","Header","Paragraph","Button","TextInput","TextArea","nameValidator","emailValidator","passwordValidator","CreateUpdateProfile","navigation","route","token","params","profile","console","log","setHomePhone","value","homePhone","error","setCellPhone","cellPhone","setWorkPhone","workPhone","setAddress","address","bio","undefined","setBio","homephone","workphone","cellphone","hobbies","setHobbies","_logout","fetch","method","navigate","_createProfile","homePhoneError","workPhoneError","cellPhoneError","addressError","bioError","hobbiesArray","split","data","headers","body","JSON","stringify","_getProfile","then","response","json","text"],"mappings":"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","sourcesContent":["import React, { memo, useState } from 'react';\r\nimport Background from '../components/Background';\r\nimport Logo from '../components/Logo';\r\nimport Header from '../components/Header';\r\nimport Paragraph from '../components/Paragraph';\r\nimport Button from '../components/Button';\r\nimport TextInput from '../components/TextInput';\r\nimport TextArea from '../components/TextArea.js';\r\nimport { nameValidator, emailValidator, passwordValidator } from '../core/utils';\r\n\r\nconst CreateUpdateProfile = ({ navigation, route }) => {\r\n\r\n    const { token } = route.params;\r\n    const { profile } = route.params;\r\n\r\n    console.log(profile);\r\n\r\n    if (profile !== {}) {\r\n        setHomePhone({ value: profile.homePhone, error: '' });\r\n        setCellPhone({ value: profile.cellPhone, error: '' });\r\n        setWorkPhone({ value: profile.workPhone, error: '' });\r\n        setAddress({ value: profile.address, error: '' });\r\n        if(profile.bio !== undefined) {\r\n            setBio({ value: profile.bio, error: '' });\r\n        }\r\n    }\r\n\r\n    const [homephone, setHomePhone] = useState({ value: '', error: '' });\r\n    const [workphone, setWorkPhone] = useState({ value: '', error: '' });\r\n    const [cellphone, setCellPhone] = useState({ value: '', error: '' });\r\n    const [address, setAddress] = useState({ value: '', error: '' });\r\n    const [bio, setBio] = useState({ value: '', error: '' });\r\n    const [hobbies, setHobbies] = useState({ value: '', error: '' });\r\n\r\n    const _logout = () => {\r\n      fetch('http://159.89.153.162:5000/api/v1/auth/logout', {\r\n        method: 'GET'\r\n      });\r\n      navigation.navigate('Home');\r\n    }\r\n  \r\n    const _createProfile = () => {\r\n        const homePhoneError = nameValidator(homephone.value); //Change to validate phone\r\n        const workPhoneError = nameValidator(workphone.value); //Change to validate phone\r\n        const cellPhoneError = nameValidator(cellphone.value); //Change to validate phone\r\n        const addressError = nameValidator(address.value); //Change to validate address\r\n        const bioError = nameValidator(bio.value); //Change to validate bio\r\n\r\n        var hobbiesArray = hobbies.value.split(', ');\r\n\r\n        if (homePhoneError || workPhoneError || cellPhoneError || addressError || bioError) {\r\n            setHomePhone({ ...homephone, error: homePhoneError });\r\n            setWorkPhone({ ...workphone, error: workPhoneError });\r\n            setCellPhone({ ...cellphone, error: cellPhoneError });\r\n            setAddress({ ...address, error: addressError });\r\n            setBio({ ...bio, error: bioError });\r\n            return;\r\n        } else {\r\n            var data = {\r\n                cellPhone: cellphone.value,\r\n                homePhone: homephone.value,\r\n                workPhone: workphone.value,\r\n                address: address.value,\r\n                bio: bio.value,\r\n                hobbies: hobbiesArray\r\n            }\r\n            fetch('http://159.89.153.162:5000/api/v1/profile', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': 'Bearer ' + token\r\n                },\r\n                body: JSON.stringify(data)\r\n            });\r\n        }\r\n    }\r\n\r\n    const _getProfile = () => {\r\n        fetch('http://159.89.153.162:5000/api/v1/profile/me', {\r\n            method: 'GET',\r\n            headers: {\r\n            'Accept': 'application/json',\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Bearer ' + token\r\n        }\r\n        }).then((response) => response.json())\r\n        .then((json) => {\r\n            console.log(json);\r\n            setHomePhone({ value: json.homePhone, error: '' });\r\n            setCellPhone({ value: json.cellPhone, error: '' });\r\n            setWorkPhone({ value: json.workPhone, error: '' });\r\n            setAddress({ value: json.address, error: '' });\r\n            if(json.bio !== undefined) {\r\n                setBio({ value: json.bio, error: '' });\r\n            }\r\n        });\r\n    }\r\n\r\n    return (\r\n        <Background>\r\n            {_getProfile}\r\n            <Logo />\r\n            <Header>Update User Information</Header>\r\n            <Button mode=\"outlined\" onPress={_logout}>\r\n                Logout\r\n            </Button>\r\n            <Button mode=\"outlined\" onPress={_getProfile}>\r\n                Get Profile\r\n            </Button>\r\n            <TextInput\r\n                label=\"Home Phone\"\r\n                returnKeyType=\"next\"\r\n                value={homephone.value}\r\n                onChangeText={text => setHomePhone({ value: text, error: '' })}\r\n                error={!!homephone.error}\r\n                errorText={homephone.error}\r\n            />\r\n\r\n            <TextInput\r\n                label=\"Work Phone\"\r\n                returnKeyType=\"next\"\r\n                value={workphone.value}\r\n                onChangeText={text => setWorkPhone({ value: text, error: '' })}\r\n                error={!!workphone.error}\r\n                errorText={workphone.error}\r\n            />\r\n\r\n            <TextInput\r\n                label=\"Cell Phone\"\r\n                returnKeyType=\"next\"\r\n                value={cellphone.value}\r\n                onChangeText={text => setCellPhone({ value: text, error: '' })}\r\n                error={!!cellphone.error}\r\n                errorText={cellphone.error}\r\n            />\r\n\r\n            <TextInput\r\n                label=\"Address\"\r\n                returnKeyType=\"next\"\r\n                value={address.value}\r\n                onChangeText={text => setAddress({ value: text, error: '' })}\r\n                error={!!address.error}\r\n                errorText={address.error}\r\n            />\r\n\r\n            <TextArea\r\n                label=\"Bio\"\r\n                returnKeyType=\"next\"\r\n                value={bio.value}\r\n                onChangeText={text => setBio({ value: text, error: '' })}\r\n                error={!!bio.error}\r\n                errorText={bio.error}\r\n            />\r\n\r\n            <TextArea\r\n                label=\"Hobbies\"\r\n                returnKeyType=\"next\"\r\n                value={hobbies.value}\r\n                onChangeText={text => setHobbies({ value: text, error: '' })}\r\n                error={!!hobbies.error}\r\n                errorText={hobbies.error}\r\n            />\r\n\r\n            <Button mode=\"outlined\" onPress={_createProfile}>\r\n                Create Profile\r\n            </Button>\r\n        </Background>\r\n    );\r\n  }\r\n  \r\n  export default memo(CreateUpdateProfile);"]},"metadata":{},"sourceType":"module"}